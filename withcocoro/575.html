<!DOCTYPE html>
<html lang="ja-JP">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haiku | cocopi</title>

    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <main>
        <h1>Haiku</h1>

        <ul id="haiku">
            <li>ãƒ‘ãƒ©ãƒ‘ãƒ©ã‚’ã€€è¸Šã£ã¦ã¿ãŸã„ãªã€€ã‚¬ãƒ³ã‚°ãƒ­ã§</li>
            <li>ã„ã¬ã¡ã‚ƒã‚“ã¯ã€€ãµã‚ãµã‚ã—ã¦ã¦ã€€ç´ æ™´ã‚‰ã—ã„</li>
            <li>æ˜æ—¥ã“ãã€€æ—©ã‚ã«èµ·ãã¦ã€€ãŠå‹‰å¼·</li>
            <li>æœ9æ™‚ã®ã€€å¤–å£å·¥äº‹ã€€ã†ã‚‹ã•ã™ã</li>
            <li>6æ™‚é–“ã€€è©±ã—ç¶šã‘ã¦ã€€æœ‰æ¥½ç”ºã§åˆ†ã‘ã‚‹ãƒ”ã‚¶ãƒ‘ãƒ³</li>
            <li>ãŠæ­£æœˆã€€2æ™‚é–“å¾…ã£ã¦ã‚‚ã€€æ¥ãªã„ãƒ‘ã‚¨ãƒªã‚¢</li>
            <li>ã„ã¤ã¾ã§ã‚‚ã€€å¿ƒã«ã‚®ãƒ£ãƒ«ã®ã€€ãƒã‚¤ãƒ³ãƒ‰ã‚’</li>
            <li>ã„ã¬ã•ã‚“ã¨ã€€ãŠãµã¨ã‚“ã‚ã‚Œã°ã€€ãã‚Œã§ã‚ˆã—</li>
            <li>ãƒ€ãƒ¼ãƒãƒšãƒ³ã€€ç—›ã¿ã®å¼·ã•ã¯ã€€ã‚¿ãƒˆã‚¥ãƒ¼ã‹ãª</li>
            <li>ç£¯ä¸¸ã¯ã€€24æ™‚é–“ã€€é£²é…’å¯èƒ½</li>
            <li>ãƒ–ãƒªé£Ÿã—ã€€æ°—åˆ†ä¸Šã€…ã€€æˆ‘ãŒå½¼ãƒ”</li>
            <li>ç‰¡è £é£Ÿãˆã°ã€€ãŠè…¹é³´ã‚‹ãªã‚Šã€€ãŠä¾¿æ‰€ã¸</li>
        </ul>
    </main>

    <footer>
        è© ã‚“ã äºº: <a href="https://pwapwa.cocopi.net">cocopi</a>
    </footer>

    <script>
        let haikuList = document.getElementById("haiku").getElementsByTagName("li")

        function focusColor(haikuId) {
            for (let i = 0; i < haikuList.length; i++) {
                let haiku = haikuList[i];

                // Focus
                if ("#" + haiku.id === haikuId) {
                    haiku.classList.add("selected");
                } else {
                    haiku.classList.remove("selected");
                }
            }
        }

        for (let i = 0; i < haikuList.length; i++) {
            let haiku = haikuList[i];
            let haikuId = String(haikuList.length - 1 - i)
            
            haiku.id = haikuList.length - 1 - i;
            let haikuText = haiku.innerText;

            // Set Link
            let linkE = document.createElement("a");
            linkE.setAttribute("href", "#" + haikuId);
            linkE.setAttribute("title", "ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼");
            linkE.innerHTML = "ğŸ”—";
            linkE.onclick = () => {
                navigator.clipboard.writeText("https://pwapwa.cocopi.net/575.html#" + haikuId);
                focusColor("#" + haikuId);
            }
            haiku.appendChild(linkE);

            if (navigator.canShare) {
                let shareE = document.createElement("span");
                shareE.innerHTML = "ğŸ“¤";
                shareE.onclick = () => {
                    // share button
                    navigator.share({                        
                        title: "Haiku | pwapwa.cocopi.net",
                        text: haikuText + " by cocopi",
                        url: "https://pwapwa.cocopi.net/575.html#" + haikuId,
                    });
                }
                haiku.appendChild(shareE);
            }
        }

        focusColor(location.hash);
    </script>
    
    <style>
        body {
            margin: 0;
            padding: 1rem;

            font-family: Arial, Helvetica, sans-serif;
        }

        header nav {
            margin: 0;
            padding: 0.5rem 1rem;
            background-color: #333333;
            color: #ffffff;

            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header nav .title h1 {
            margin: 0;
        }

        header nav .title h1 a {
            color: #ffffff;
            margin: 0;
            text-decoration: none;
        }

        header nav ul {
            display: block;
            margin: 0;
        }

        header nav ul li {
            display: inline;
            text-decoration: none;
            margin-left: 0.5rem;
        }

        header nav ul li a {
            color: white;
            text-decoration: none;
        }

        h1, h2, h3, h4, h5 {
            font-size: 1rem;
        }

        h1 {
            font-weight: 900;
        }

        h2 {
            font-weight: 600;
        }

        div {
            margin-left: 1rem;
        }

        ul#haiku li.selected {
            background-color: #eaddb9;
        }

        ul#haiku a {
            margin-left: 1rem;
            text-decoration: none;
        }

        ul#haiku span {
            margin-left: 0.5rem;
        }
    </style>
</body>
</html>
