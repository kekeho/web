<!DOCTYPE html>
<html lang="ja-JP">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haiku | kekeho</title>

    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <main>
        <h1>Haiku</h1>

        é©å½“ã«ã€€è‡ªç”±ã«è© ã‚“ã§ã€€ã„ããŸã„ãƒ¯

        <ol id="haiku" reversed>
            <li>ã„ã¬æ•£æ­©ã€€æ˜¥ã®è¨ªã‚Œã€€æ„Ÿã˜ã¾ã™</li>
            <li>èŠ±ç²‰ã€€æ®ºã™ã€€çµ¶å¯¾</li>
            <li>æˆæœã¯ã­ã€€ãã“ã«ãªã‘ã‚Œã°ã€€ãªã„ã§ã™ã­</li>
            <li>ã„ã„åŠ æ¸›ã€€ãƒ¯ã‚¤ã®ãƒ–ãƒ­ã‚°ã‚‚ã€€ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆ(ã—ãŸã„ãª)</li>
            <li>æ‹äººã«ã€€è¤’ã‚ã¦ã‚‚ã‚‰ãˆã¦ã€€ã†ã‚Œã—ã„ãƒ¯ãƒ³ï¼ğŸ¶</li>
            <li>å¤é¯–ã‚„ã€€ãƒ‡ãƒ¼ã‚¿æ¶ˆãˆã‚†ãã€€ãƒ“ãƒ¼ãƒ—éŸ³</li>
            <li>ãƒ–ãƒªé£Ÿã—ã€€æ°—åˆ†ã¯ä¸Šã€…ã€€ãƒ–ãƒªãƒªã‚¢ãƒ³ãƒˆ</li>
            <li>å¤§å­¦ã¯ã€€ãƒ‡ã‚«ã„å­¦ã³ã‚’ã€€ã™ã‚‹ã¨ã“ã‚</li>
            <li>ã‚‚ã†ã‚ªãƒ¯ãƒªã€€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’ã€€ã‚„ã‚ã¾ã—ã‚‡ã†</li>
        </ul>
    </main>

    <footer>
        è© ã‚“ã äºº: <a href="https://kekeho.net">kekeho</a>
    </footer>

    <script>
        let haikuListE = document.getElementById("haiku");
        let haikuList = haikuListE.getElementsByTagName("li");
        haikuListE.setAttribute("start", String(haikuList.length - 1));

        function focusColor(haikuId) {
            for (let i = 0; i < haikuList.length; i++) {
                let haiku = haikuList[i];

                // Focus
                if ("#" + haiku.id === haikuId) {
                    haiku.classList.add("selected");
                } else {
                    haiku.classList.remove("selected");
                }
            }
        }

        for (let i = 0; i < haikuList.length; i++) {
            let haiku = haikuList[i];
            let haikuId = String(haikuList.length - 1 - i)
            
            haiku.id = haikuList.length - 1 - i;
            let haikuText = haiku.innerText;

            // Set Link
            let linkE = document.createElement("a");
            linkE.setAttribute("href", "#" + haikuId);
            linkE.setAttribute("title", "ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼");
            linkE.innerHTML = "ğŸ”—";
            linkE.onclick = () => {
                navigator.clipboard.writeText("https://kekeho.net/575.html#" + haikuId);
                focusColor("#" + haikuId);
            }
            haiku.appendChild(linkE);

            if (navigator.canShare) {
                let shareE = document.createElement("span");
                shareE.innerHTML = "ğŸ“¤";
                shareE.onclick = () => {
                    // share button
                    navigator.share({                        
                        title: "Haiku | kekeho.net",
                        text: haikuText + " by kekeho",
                        url: "https://kekeho.net/575.html#" + haikuId,
                    });
                }
                haiku.appendChild(shareE);
            }
        }

        focusColor(location.hash);
    </script>
    
</body>
</html>